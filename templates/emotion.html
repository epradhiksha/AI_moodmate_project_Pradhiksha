<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Emotion Detection</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body class="light-bg">
    <div class="widget-box">
        <h1>ðŸŽµ MoodMate ðŸŽµ</h1>
        <p class="subtitle">Detect your emotion or sentiment and get personalized music recommendations!</p>

    <h2>ðŸ“¸ Emotion Detection</h2>

    <form action="/predict_emotion/" method="post" enctype="multipart/form-data">
        <input type="hidden" name="method" value="upload">
        <input type="file" name="file" accept="image/*" required>
        <button type="submit">Upload Image</button>
    </form>

    <form action="/predict_emotion/" method="post">
        <input type="hidden" name="method" value="webcam">
        <button type="submit">Use Webcam (20 frames)</button>
        <br>
        <label for="count">Number of songs:</label>
        <select name="count" id="count">
            <option value="3">3</option>
            <option value="5" selected>5</option>
            <option value="10">10</option>
            <option value="20">20</option>
        </select>
        
    </form>

    {% if image_url %}
        <div class="image-display">
            <h3>Uploaded Image:</h3>
            <img src="{{ image_url }}" alt="Uploaded Image" width="300" style="border-radius: 10px; margin-top: 10px;">
        </div>
    {% endif %}

    {% if emotion %}
        <p id="emotionResult">Detected Emotion: <strong>{{ emotion }}</strong></p>
        {% endif %}

        {% if songs %}
        <h3>Recommended Songs:</h3>
        <div class="song-list">
            {% for song in songs %}
            <p>{{ song | safe }}</p>
            {% endfor %}
        </div>
        {% endif %}


    <a href="/" class="back">â¬… Back to Home</a>
</body>
</html>
